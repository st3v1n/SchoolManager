<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* Define the animatable CSS variable for progress */
        @property --progress {
            syntax: '<number>';
            initial-value: 0;
            inherits: true;
        }
    
        :root {
            --progress: 50; /* Default progress as a number (not percentage yet) */
        }
    
        body {
            background: #1a1a1a;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        }
    
        .progress {
            display: flex;
            flex-direction: column;
            width: 70%;
            height: 70px;
            gap: 10px;
            padding: 20px;
        }
    
        .bar {
            position: relative;
            width: 100%;
            height: 100%;
            background: #2a2a2a;
            border-radius: 30px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.4);
            overflow: hidden;
        }
    
        .bar::before {
            content: "";
            background: linear-gradient(90deg, #4f46e5, #7c3aed, #d946ef);
            position: absolute;
            border-radius: 20px;
            height: 100%;
            width: calc(var(--progress) * 1%);
            transition: width 1s ease-in-out;
        }
    
        .bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 2s infinite;
        }
    
        .bar-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fff;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            z-index: 1;
            font-size: 24px;
            width: 100%;
            text-align: center;
        }
    
        .bar-text::before {
            content: calc(var(--progress) * 1) '%'; /* Dynamically updating the text based on --progress */
            transition: content 1s ease-in-out; /* Smooth transition for the text */
        }
    
        .markers {
            display: flex;
            justify-content: space-between;
            color: #666;
            transition: font-size 0.7s ease;
        }
    
        .marker.active {
            color: #4f46e5;
        }
    
        @keyframes shimmer {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(200%);
            }
        }
    </style>
    
</head>
<body>
    <div class="progress">
        <div class="bar"><div class="bar-text"></div></div>
        <div class="markers">
            <div class="marker" data-mark="0">0%</div>
            <div class="marker" data-mark="25">25%</div>
            <div class="marker" data-mark="50">50%</div>
            <div class="marker" data-mark="75">75%</div>
            <div class="marker" data-mark="100">100%</div>
        </div>
   </div>
</body>
</html>
<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            background: #1a1a1a;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
        }
        .progress{
            display: flex;
            flex-direction: column;
            width: 70%;
            height: 70px;
            gap: 10px;
            padding: 20px;
        }
        .bar{
            position: relative;
            width: 100%;
            height: 100%;
            background: #2a2a2a;
            border-radius: 30px;box-shadow: inset 0 2px 4px rgba(0,0,0,0.4);
            overflow: hidden;
        }
        .bar::before{
            content: "";
            background: linear-gradient(90deg, #4f46e5,#7c3aed,#d946ef);
            position: absolute;
            border-radius: 20px;
            height: 100%;
            width: var(--progress);
        }

        .bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
              transparent,
              rgba(255, 255, 255, 0.2),
              transparent
            );
            animation: shimmer 2s infinite;
        }
        .bar-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fff;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(255,255,255,0.5);
            z-index: 1;
        }

        .markers{
            display: flex;
            justify-content:space-between;
            color: #666;
            transition: font-size 0.7s ease;
        }
        .marker.active{
            color: #4f46e5;
        }

        @keyframes shimmer {
            0% { transform: translateX(0); }
            100% { transform: translateX(200%); }
        }
    </style>
</head>
<body>
   <div class="progress" data-state="loading">
        <div class="bar"><div class="bar-text"></div></div>
        <div class="markers">
            <div class="marker" data-mark="0">0%</div>
            <div class="marker" data-mark="25">25%</div>
            <div class="marker" data-mark="50">50%</div>
            <div class="marker" data-mark="75">75%</div>
            <div class="marker" data-mark="100">100%</div>
        </div>
   </div>
</body>
<script>
    var progress = 0;
    const bar = document.querySelector('.bar');
    const barText = document.querySelector('.bar-text')
    const markers = document.querySelectorAll('.marker');

    // bonus data for real world integrations
    const progressState = document.querySelector('.progress').getAttribute('data-state');

    function updateBar(){
        if (progress < 100){
            bar.style.setProperty('--progress',`${progress}%`);
            barText.innerHTML = `${progress}%`;
            
            progress ++;
            setTimeout(updateBar, 100);
            
            markers.forEach(marker=> {
                if (marker.dataset.mark <= progress) {
                    marker.classList.add('active');
                } else {
                    marker.classList.remove('active')
                }
            })
        } else{
            // loop for demo only
            progress = 0;
            setTimeout(updateBar, 100)
        }
    }
    
    if (progressState == 'loading'){updateBar(progress)}
</script>
</html> -->